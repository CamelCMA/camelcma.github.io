---
layout: post
title: VDOC_05_Python_Scipy
categories:
  - Cae
tags:
  - Cae
  - Vrand
  - VisualDOC
  - Optization
  - VDOC
  - Python
  - Scipy
excerpt: "應用Python Scipy進行函數最小化求解。<br/>"
---

<body>
    <div id="doc" class="markdown-body container-fluid comment-enabled" data-hard-breaks="true"><h2 id="-0-目錄"><a class="anchor hidden-xs" href="#-0-目錄" title="-0-目錄"><span class="octicon octicon-link"></span></a><img alt=":bulb:" class="emoji" src="https://cdnjs.cloudflare.com/ajax/libs/emojify.js/1.1.0/images/basic/bulb.png" title=":bulb:"> 0. 目錄</h2><p><span class="toc"><ul>
<li><a href="#VDOC_05_Python_Scipy" title="VDOC_05_Python_Scipy">VDOC_05_Python_Scipy</a><ul>
<li><a href="#-0-目錄" title=" 0. 目錄"> 0. 目錄</a></li>
<li><a href="#-1-老駱提醒" title=" 1. 老駱提醒"> 1. 老駱提醒</a></li>
<li><a href="#-2-問題描述" title=" 2. 問題描述"> 2. 問題描述</a></li>
<li><a href="#-3-Python-Scipy" title=" 3. Python Scipy"> 3. Python Scipy</a></li>
<li><a href="#-4-聯絡老駱" title="  4. 聯絡老駱">  4. 聯絡老駱</a></li>
</ul>
</li>
</ul>
</span></p>

<h2 id="-1-老駱提醒"><a class="anchor hidden-xs" href="#-1-老駱提醒" title="-1-老駱提醒"><span class="octicon octicon-link"></span></a><img alt=":mega:" class="emoji" src="https://cdnjs.cloudflare.com/ajax/libs/emojify.js/1.1.0/images/basic/mega.png" title=":mega:"> 1. 老駱提醒</h2><div class="alert alert-info">
<ul>
<li>請先確認，您已經閱讀 <ins><a href="{% post_url 2019-12-17-VDOC_00_Introduction %}" target="_blank" rel="noopener">VDOC_00_Introduction</a></ins> 中的聲明。</li>
<li>本文補充說明如何利用<code>Python</code> <code>Scipy</code>進行函數最小化求解。</li>
</ul>
</div><h2 id="-2-問題描述"><a class="anchor hidden-xs" href="#-2-問題描述" title="-2-問題描述"><span class="octicon octicon-link"></span></a><img alt=":question:" class="emoji" src="https://cdnjs.cloudflare.com/ajax/libs/emojify.js/1.1.0/images/basic/question.png" title=":question:"> 2. 問題描述</h2><p><code>Minimize Objective Function</code> <span class="mathjax"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>f</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1" style="width: 3.343em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.858em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.457em, 1002.75em, 2.804em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-2"><span class="mi" id="MathJax-Span-3" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mo" id="MathJax-Span-4" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-5" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-6" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-7" style="font-family: MathJax_Math-italic; padding-left: 0.164em;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-8" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-1">f(x,y)</script></span>:<br>
<span class="mathjax"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-2-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>f</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mfrac><mrow><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><msup><mi>y</mi><mn>2</mn></msup><mo stretchy=&quot;false&quot;>)</mo></mrow><mn>10</mn></mfrac></mrow><mo>&amp;#x2212;</mo><mi>cos</mi><mo>&amp;#x2061;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo stretchy=&quot;false&quot;>)</mo><mi>cos</mi><mo>&amp;#x2061;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="text-align: center; position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-9" style="width: 17.567em; display: inline-block;"><span style="display: inline-block; position: relative; width: 15.143em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(0.649em, 1015.03em, 3.235em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-10"><span class="mi" id="MathJax-Span-11" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mo" id="MathJax-Span-12" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-13" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-14" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-15" style="font-family: MathJax_Math-italic; padding-left: 0.164em;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-16" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-17" style="font-family: MathJax_Main; padding-left: 0.272em;">=</span><span class="texatom" id="MathJax-Span-18" style="padding-left: 0.272em;"><span class="mrow" id="MathJax-Span-19"><span class="mfrac" id="MathJax-Span-20"><span style="display: inline-block; position: relative; width: 4.098em; height: 0px; margin-right: 0.11em; margin-left: 0.11em;"><span style="position: absolute; clip: rect(3.02em, 1003.88em, 4.421em, -999.997em); top: -4.685em; left: 50%; margin-left: -1.991em;"><span class="mrow" id="MathJax-Span-21"><span class="mo" id="MathJax-Span-22" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-23"><span style="display: inline-block; position: relative; width: 1.026em; height: 0px;"><span style="position: absolute; clip: rect(3.397em, 1000.54em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-24" style="font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -4.362em; left: 0.595em;"><span class="mn" id="MathJax-Span-25" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="mo" id="MathJax-Span-26" style="font-family: MathJax_Main; padding-left: 0.218em;">+</span><span class="msubsup" id="MathJax-Span-27" style="padding-left: 0.218em;"><span style="display: inline-block; position: relative; width: 0.973em; height: 0px;"><span style="position: absolute; clip: rect(3.397em, 1000.49em, 4.367em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-28" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -4.362em; left: 0.541em;"><span class="mn" id="MathJax-Span-29" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="mo" id="MathJax-Span-30" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; clip: rect(3.182em, 1000.97em, 4.151em, -999.997em); top: -3.284em; left: 50%; margin-left: -0.482em;"><span class="mn" id="MathJax-Span-31" style="font-family: MathJax_Main;">10</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; clip: rect(0.865em, 1004.1em, 1.242em, -999.997em); top: -1.29em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 4.098em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.08em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-32" style="font-family: MathJax_Main; padding-left: 0.218em;">−</span><span class="mi" id="MathJax-Span-33" style="font-family: MathJax_Main; padding-left: 0.218em;">cos</span><span class="mo" id="MathJax-Span-34"></span><span class="mo" id="MathJax-Span-35" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-36" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-37" style="font-family: MathJax_Main;">)</span><span class="mi" id="MathJax-Span-38" style="font-family: MathJax_Main; padding-left: 0.164em;">cos</span><span class="mo" id="MathJax-Span-39"></span><span class="mo" id="MathJax-Span-40" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-41" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-42" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.872em; border-left: 0px solid; width: 0px; height: 2.753em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mfrac><mrow><mo stretchy="false">(</mo><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><msup><mi>y</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><mn>10</mn></mfrac></mrow><mo>−</mo><mi>cos</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi>cos</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-2">
f(x,y) = {(x^2 + y^2) \over 10} - \cos(x)\cos(y)
</script></span></p><p><code>Subject to the Constraint Equation</code> <span class="mathjax"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-3-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>g</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-43" style="width: 3.182em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.751em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.457em, 1002.64em, 2.804em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-44"><span class="mi" id="MathJax-Span-45" style="font-family: MathJax_Math-italic;">g<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-46" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-47" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-48" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-49" style="font-family: MathJax_Math-italic; padding-left: 0.164em;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-50" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>g</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-3">g(x,y)</script></span>:<br>
<span class="mathjax"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-4-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>g</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><msup><mi>y</mi><mn>2</mn></msup><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2265;</mo><mn>1.5</mn></math>" role="presentation" style="text-align: center; position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-51" style="width: 12.395em; display: inline-block;"><span style="display: inline-block; position: relative; width: 10.671em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.35em, 1010.62em, 2.804em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-52"><span class="mi" id="MathJax-Span-53" style="font-family: MathJax_Math-italic;">g<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-54" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-55" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-56" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-57" style="font-family: MathJax_Math-italic; padding-left: 0.164em;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-58" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-59" style="font-family: MathJax_Main; padding-left: 0.272em;">=</span><span class="mo" id="MathJax-Span-60" style="font-family: MathJax_Main; padding-left: 0.272em;">(</span><span class="msubsup" id="MathJax-Span-61"><span style="display: inline-block; position: relative; width: 1.026em; height: 0px;"><span style="position: absolute; clip: rect(3.397em, 1000.54em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-62" style="font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -4.415em; left: 0.595em;"><span class="mn" id="MathJax-Span-63" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="mo" id="MathJax-Span-64" style="font-family: MathJax_Main; padding-left: 0.218em;">+</span><span class="msubsup" id="MathJax-Span-65" style="padding-left: 0.218em;"><span style="display: inline-block; position: relative; width: 0.973em; height: 0px;"><span style="position: absolute; clip: rect(3.397em, 1000.49em, 4.367em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-66" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -4.415em; left: 0.541em;"><span class="mn" id="MathJax-Span-67" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="mo" id="MathJax-Span-68" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-69" style="font-family: MathJax_Main; padding-left: 0.272em;">≥</span><span class="mn" id="MathJax-Span-70" style="font-family: MathJax_Main; padding-left: 0.272em;">1.5</span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.441em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>g</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><msup><mi>y</mi><mn>2</mn></msup><mo stretchy="false">)</mo><mo>≥</mo><mn>1.5</mn></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-4">
g(x,y) = (x^2 + y^2) \ge 1.5
</script></span></p><p><code>Design Variables (Side Constraints)</code>:<br>
<span class="mathjax"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax MathJax_FullWidth" id="MathJax-Element-5-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mo>&amp;#x2212;</mo><mn>2</mn><mo>&amp;#x2264;</mo><mi>x</mi><mo>&amp;#x2264;</mo><mn>2</mn><mspace linebreak=&quot;newline&quot; /><mo>&amp;#x2212;</mo><mn>2</mn><mo>&amp;#x2264;</mo><mi>y</mi><mo>&amp;#x2264;</mo><mn>4</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-71" style="width: 100%; display: inline-block; min-width: 5.929em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(3.182em, 1005.12em, 5.606em, -999.997em); top: -3.984em; left: 0em; width: 100%;"><span class="mrow" id="MathJax-Span-72"><span style="display: inline-block; position: relative; width: 100%; height: 0px;"><span style="position: absolute; clip: rect(3.182em, 1004.96em, 4.313em, -999.997em); top: -3.984em; left: 50%; margin-left: -2.476em;"><span class="mo" id="MathJax-Span-73" style="font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-74" style="font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-75" style="font-family: MathJax_Main; padding-left: 0.272em;">≤</span><span class="mi" id="MathJax-Span-76" style="font-family: MathJax_Math-italic; padding-left: 0.272em;">x</span><span class="mo" id="MathJax-Span-77" style="font-family: MathJax_Main; padding-left: 0.272em;">≤</span><span class="mn" id="MathJax-Span-78" style="font-family: MathJax_Main; padding-left: 0.272em;">2</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; clip: rect(3.128em, 1005.12em, 4.367em, -999.997em); top: -2.745em; left: 50%; margin-left: -2.584em;"><span class="mspace" id="MathJax-Span-79" style="height: 0em; vertical-align: 0em; width: 0em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-80" style="font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-81" style="font-family: MathJax_Main; padding-left: 0.218em;">2</span><span class="mo" id="MathJax-Span-82" style="font-family: MathJax_Main; padding-left: 0.272em;">≤</span><span class="mi" id="MathJax-Span-83" style="font-family: MathJax_Math-italic; padding-left: 0.272em;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-84" style="font-family: MathJax_Main; padding-left: 0.272em;">≤</span><span class="mn" id="MathJax-Span-85" style="font-family: MathJax_Main; padding-left: 0.272em;">4</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.747em; border-left: 0px solid; width: 0px; height: 2.566em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mo>−</mo><mn>2</mn><mo>≤</mo><mi>x</mi><mo>≤</mo><mn>2</mn><mspace linebreak="newline"></mspace><mo>−</mo><mn>2</mn><mo>≤</mo><mi>y</mi><mo>≤</mo><mn>4</mn></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-5">
-2\le x\le2\\
-2\le y\le4
</script></span></p><p><code>Initial Conditions</code>:<br>
<span class="mathjax"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display"><span class="MathJax MathJax_FullWidth" id="MathJax-Element-6-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>x</mi><mo>=</mo><mn>2</mn><mspace linebreak=&quot;newline&quot; /><mi>y</mi><mo>=</mo><mn>2</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-86" style="width: 100%; display: inline-block; min-width: 2.751em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(3.182em, 1002.32em, 5.552em, -999.997em); top: -3.984em; left: 0em; width: 100%;"><span class="mrow" id="MathJax-Span-87"><span style="display: inline-block; position: relative; width: 100%; height: 0px;"><span style="position: absolute; clip: rect(3.182em, 1002.32em, 4.151em, -999.997em); top: -3.984em; left: 50%; margin-left: -1.183em;"><span class="mi" id="MathJax-Span-88" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-89" style="font-family: MathJax_Main; padding-left: 0.272em;">=</span><span class="mn" id="MathJax-Span-90" style="font-family: MathJax_Main; padding-left: 0.272em;">2</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; clip: rect(3.182em, 1002.27em, 4.367em, -999.997em); top: -2.799em; left: 50%; margin-left: -1.183em;"><span class="mspace" id="MathJax-Span-91" style="height: 0em; vertical-align: 0em; width: 0em; display: inline-block; overflow: hidden;"></span><span class="mi" id="MathJax-Span-92" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-93" style="font-family: MathJax_Main; padding-left: 0.272em;">=</span><span class="mn" id="MathJax-Span-94" style="font-family: MathJax_Main; padding-left: 0.272em;">2</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.684em; border-left: 0px solid; width: 0px; height: 2.503em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>x</mi><mo>=</mo><mn>2</mn><mspace linebreak="newline"></mspace><mi>y</mi><mo>=</mo><mn>2</mn></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-6">
x=2\\
y=2
</script></span></p><h2 id="-3-Python-Scipy"><a class="anchor hidden-xs" href="#-3-Python-Scipy" title="-3-Python-Scipy"><span class="octicon octicon-link"></span></a><img alt=":battery:" class="emoji" src="https://cdnjs.cloudflare.com/ajax/libs/emojify.js/1.1.0/images/basic/battery.png" title=":battery:"> 3. Python Scipy</h2><p>以下程式碼主要參考 <ins><a href="https://docs.scipy.org/doc/scipy/reference/tutorial/optimize.html" target="_blank" rel="noopener">Scipy</a></ins> 的教學文檔設置。</p><p>這裡老駱選擇<code>minimize</code>中的 <ins><a href="https://docs.scipy.org/doc/scipy/reference/optimize.minimize-trustconstr.html#optimize-minimize-trustconstr" target="_blank" rel="noopener"><code>trust-constr</code></a></ins> 方法，因為這個方法不用提供額外的<code>jacobian</code>和<code>hessian</code>函數即可求解，並且在<code>option</code>裡附有<code>verbose</code>選項，可以將其設為<code>2</code>，方便觀察求解過程。為了符合<code>Scipy</code>的格式，下方程式中的<code>x[0]</code>為問題中的<code>x</code>，而<code>x[1]</code>則為問題中的<code>y</code>。</p><pre><code class="python hljs"><div class="wrapper"><div class="gutter linenumber"><span data-linenumber="1"></span>
<span data-linenumber="2"></span>
<span data-linenumber="3"></span>
<span data-linenumber="4"></span>
<span data-linenumber="5"></span>
<span data-linenumber="6"></span>
<span data-linenumber="7"></span>
<span data-linenumber="8"></span>
<span data-linenumber="9"></span>
<span data-linenumber="10"></span>
<span data-linenumber="11"></span>
<span data-linenumber="12"></span>
<span data-linenumber="13"></span>
<span data-linenumber="14"></span>
<span data-linenumber="15"></span>
<span data-linenumber="16"></span>
<span data-linenumber="17"></span>
<span data-linenumber="18"></span>
<span data-linenumber="19"></span>
<span data-linenumber="20"></span>
<span data-linenumber="21"></span>
<span data-linenumber="22"></span>
<span data-linenumber="23"></span>
<span data-linenumber="24"></span>
<span data-linenumber="25"></span></div><div class="code"><span class="hljs-keyword">from</span> math <span class="hljs-keyword">import</span> cos
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">from</span> scipy.optimize <span class="hljs-keyword">import</span> minimize, Bounds, NonlinearConstraint

<span class="hljs-comment"># Objective function</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">prob</span><span class="hljs-params">(x)</span>:</span>
    <span class="hljs-keyword">return</span> (x[<span class="hljs-number">0</span>]**<span class="hljs-number">2</span> + x[<span class="hljs-number">1</span>]**<span class="hljs-number">2</span>)/<span class="hljs-number">10</span> - cos(x[<span class="hljs-number">0</span>]) * cos(x[<span class="hljs-number">1</span>])

<span class="hljs-comment"># Constraint equation</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">cons_f</span><span class="hljs-params">(x)</span>:</span>
    <span class="hljs-keyword">return</span> x[<span class="hljs-number">0</span>]**<span class="hljs-number">2</span> + x[<span class="hljs-number">1</span>]**<span class="hljs-number">2</span>
nonlinear_constraint = NonlinearConstraint(cons_f, lb=<span class="hljs-number">1.5</span>, ub=np.inf)

<span class="hljs-comment"># Bound of design variables</span>
bounds = Bounds([<span class="hljs-number">-2</span>, <span class="hljs-number">-2</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>])

<span class="hljs-comment"># Initial condition</span>
x0 = np.array([<span class="hljs-number">2</span>, <span class="hljs-number">2</span>])

<span class="hljs-comment"># Solve the question</span>
resp = minimize(fun=prob, x0=x0, method=<span class="hljs-string">'trust-constr'</span>,
                bounds=bounds, constraints=[nonlinear_constraint],
                options={<span class="hljs-string">'verbose'</span>:<span class="hljs-number">2</span>})

print(resp)
</div></div></code></pre><p><img src="/assets/img/vrand_vdoc/ch5/901_scipy_result.jpg" alt="901_scipy_result"></p><table>
<thead>
<tr>
<th style="text-align:center">()內為<code>PythonEquation</code>被呼叫次數</th>
<th style="text-align:center"><code>x</code></th>
<th style="text-align:center"><code>y</code></th>
<th style="text-align:center"><code>f</code></th>
<th style="text-align:center"><code>g</code></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>Opt Using PythonEquation(48)</code></td>
<td style="text-align:center">0.86087</td>
<td style="text-align:center">0.87115</td>
<td style="text-align:center">-0.26971</td>
<td style="text-align:center">1.50000</td>
</tr>
<tr>
<td style="text-align:center"><code>Opt Using DOE(9)</code></td>
<td style="text-align:center">2.00000</td>
<td style="text-align:center">0.29777</td>
<td style="text-align:center">-0.07096</td>
<td style="text-align:center">4.08891</td>
</tr>
<tr>
<td style="text-align:center"><code>Opt Using DOE(Verified by PythonEquation)(40)</code></td>
<td style="text-align:center">2.00000</td>
<td style="text-align:center">0.29777</td>
<td style="text-align:center">-0.07096</td>
<td style="text-align:center">4.08891</td>
</tr>
<tr>
<td style="text-align:center"><code>RSA Using DOE(33)</code></td>
<td style="text-align:center">0.86787</td>
<td style="text-align:center">0.86306</td>
<td style="text-align:center">-0.26985</td>
<td style="text-align:center">1.49966</td>
</tr>
<tr>
<td style="text-align:center"><code>Opt Using localPython(48)</code></td>
<td style="text-align:center">0.86087</td>
<td style="text-align:center">0.87115</td>
<td style="text-align:center">-0.26971</td>
<td style="text-align:center">1.50001</td>
</tr>
<tr>
<td style="text-align:center"><code>Python Scipy(0)</code></td>
<td style="text-align:center">-0.86603</td>
<td style="text-align:center">0.86603</td>
<td style="text-align:center">-0.26972</td>
<td style="text-align:center">1.50000</td>
</tr>
</tbody>
</table><p>可以看出<code>Scipy</code>與<code>VisualDOC</code>答案相當接近。</p><p>雖然<code>Scipy</code>求解出來的<code>x</code>為<code>-0.86603</code>，但觀察此問題的<code>f</code>及<code>g</code>，若將<code>x</code>以<code>0.86603</code>代入，並不會影響其值，因</p><ul>
<li><code>f</code>及<code>g</code>的平方項 : <span class="mathjax"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-7-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mi>x</mi><mn>2</mn></msup><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mo>&amp;#x2212;</mo><mi>x</mi><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-95" style="width: 5.714em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.906em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.404em, 1004.91em, 2.804em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-96"><span class="msubsup" id="MathJax-Span-97"><span style="display: inline-block; position: relative; width: 1.026em; height: 0px;"><span style="position: absolute; clip: rect(3.397em, 1000.54em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-98" style="font-family: MathJax_Math-italic;">x</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -4.362em; left: 0.595em;"><span class="mn" id="MathJax-Span-99" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="mo" id="MathJax-Span-100" style="font-family: MathJax_Main; padding-left: 0.272em;">=</span><span class="mo" id="MathJax-Span-101" style="font-family: MathJax_Main; padding-left: 0.272em;">(</span><span class="mo" id="MathJax-Span-102" style="font-family: MathJax_Main;">−</span><span class="mi" id="MathJax-Span-103" style="font-family: MathJax_Math-italic;">x</span><span class="msubsup" id="MathJax-Span-104"><span style="display: inline-block; position: relative; width: 0.811em; height: 0px;"><span style="position: absolute; clip: rect(3.074em, 1000.27em, 4.421em, -999.997em); top: -3.984em; left: 0em;"><span class="mo" id="MathJax-Span-105" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -4.362em; left: 0.38em;"><span class="mn" id="MathJax-Span-106" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.378em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>x</mi><mn>2</mn></msup><mo>=</mo><mo stretchy="false">(</mo><mo>−</mo><mi>x</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup></math></span></span><script type="math/tex" id="MathJax-Element-7">x^2 = (-x)^2</script></span>。</li>
<li><code>f</code>及<code>g</code>的三角函數 : <span class="mathjax"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-8-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy=&quot;false&quot;>(</mo><mo>&amp;#x2212;</mo><mi>x</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-107" style="width: 8.839em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.6em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.457em, 1007.49em, 2.804em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-108"><span class="mi" id="MathJax-Span-109" style="font-family: MathJax_Math-italic;">c</span><span class="mi" id="MathJax-Span-110" style="font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-111" style="font-family: MathJax_Math-italic;">s</span><span class="mo" id="MathJax-Span-112" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-113" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-114" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-115" style="font-family: MathJax_Main; padding-left: 0.272em;">=</span><span class="mi" id="MathJax-Span-116" style="font-family: MathJax_Math-italic; padding-left: 0.272em;">c</span><span class="mi" id="MathJax-Span-117" style="font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-118" style="font-family: MathJax_Math-italic;">s</span><span class="mo" id="MathJax-Span-119" style="font-family: MathJax_Main;">(</span><span class="mo" id="MathJax-Span-120" style="font-family: MathJax_Main;">−</span><span class="mi" id="MathJax-Span-121" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-122" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mo>−</mo><mi>x</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-8">cos(x) = cos(-x)</script></span>。</li>
</ul><div class="alert alert-warning">
<p><img alt=":flashlight:" class="emoji" src="https://cdnjs.cloudflare.com/ajax/libs/emojify.js/1.1.0/images/basic/flashlight.png" title=":flashlight:"> 最後要特別提醒的是，不同的問題各有其適合求解的算法及搭配的參數。改變求解算法及調整其所使用的參數，都可能會得到不同的答案。甚至，有時候這些答案之間，也存在一段不小的差距。此時，就是考驗使用者對問題了解的程度，從中挑出最適合的算法及參數。</p>
</div><h2 id="-4-聯絡老駱"><a class="anchor hidden-xs" href="#-4-聯絡老駱" title="-4-聯絡老駱"><span class="octicon octicon-link"></span></a><img alt=":mailbox:" class="emoji" src="https://cdnjs.cloudflare.com/ajax/libs/emojify.js/1.1.0/images/basic/mailbox.png" title=":mailbox:">  4. 聯絡老駱</h2><div class="alert alert-info">
<p>如果您或貴單位:</p>
<ul>
<li>有導入<code>VR&amp;D</code>產品的意願，但是有報價、採購及發票等問題。</li>
<li>有教育訓練或顧問需求。</li>
<li>有些建言指教。</li>
<li>想交個朋友。<br>
歡迎透過 <img alt=":camel:" class="emoji" src="https://cdnjs.cloudflare.com/ajax/libs/emojify.js/1.1.0/images/basic/camel.png" title=":camel:"> <ins><a href="mailto:camel@caeml.ai" target="_blank" rel="noopener">camel@caeml.ai</a></ins> 聯絡老駱。</li>
</ul>
</div>
</div>
</body>
